package dev.cryotron.attributes.common.events;

import java.util.UUID;

import dev.cryotron.attributes.CTAttributes;
import net.minecraft.world.entity.LivingEntity;
import net.minecraft.world.entity.ai.attributes.AttributeModifier;
import net.minecraft.world.item.ItemStack;
import net.minecraftforge.api.distmarker.Dist;
import net.minecraftforge.event.entity.living.LivingEquipmentChangeEvent;
import net.minecraftforge.eventbus.api.SubscribeEvent;
import net.minecraftforge.fml.common.Mod;


@Mod.EventBusSubscriber(modid = CTAttributes.ID, bus = Mod.EventBusSubscriber.Bus.FORGE, value = Dist.CLIENT)
public class TotemOfInvulnerabilityEquipEvent {

		@SubscribeEvent
		public static void TotemOfInvulnerabilityEquipEvent (LivingEquipmentChangeEvent event) {
		
			ItemStack equipped = event.getTo();
			ItemStack unequipped = event.getFrom();

			//EquipmentSlot slot = event.getSlot();
			LivingEntity le = event.getEntity();
			UUID uuid = UUID.fromString("934cc13f-d185-40ef-9440-b2b2cbbcdee5");
			event.getSlot().getIndex();
			
			//Skyspace.LOGGER.info("Slot Index Fired: " + event.getSlot().getIndex());
			
			//SkyspaceEnergyShieldItem ssESitem;
			AttributeModifier am;

//			if  ( unequipped.getItem() instanceof SkyspaceEnergyShieldItem && ( (event.getSlot().getIndex() == 5) || (event.getSlot().getIndex() == 0) ) ) {
//				if (unequipped.getItem() == RegisteredItems.ENERGY_SHIELD_DEBUG_ARMOR.get()) {			
//					le.getAttribute(RegisteredAttributes.MAX_ENERGY_SHIELD.get()).removeModifier(uuid);
//				}
//			}
//			
//			if (equipped.getItem() instanceof SkyspaceEnergyShieldItem && ( (event.getSlot().getIndex() == 5) || (event.getSlot().getIndex() == 0) ) ) {
//					ssESitem = (SkyspaceEnergyShieldItem) equipped.getItem();
//					am = new AttributeModifier(uuid, "energy_shield_modifier", ssESitem.getEnergyShield(), Operation.ADDITION);
//					if (equipped.getItem() == RegisteredItems.ENERGY_SHIELD_DEBUG_ARMOR.get()) {	
//
//						if ( !(le.getAttribute(RegisteredAttributes.MAX_ENERGY_SHIELD.get()).hasModifier(am))) {
//							le.getAttribute(RegisteredAttributes.MAX_ENERGY_SHIELD.get()).addPermanentModifier(am);
//						}
//					}
//				
//			}
			
		}
}
